# 🚨 Claude 自檢與逃避預防方法論

## 📖 方法論目的

本方法論建立 Claude 內建的回應前強制自檢機制，確保每次回應都符合 CLAUDE.md 三大鐵律，從根本杜絕逃避行為的產生。

### 核心原則
- **即時阻止** - 在逃避行為產生前攔截
- **強制執行** - 每次回應前必須通過檢查
- **零容忍** - 不存在例外情況
- **自我修正** - 檢查失敗立即重新構思

## 🔍 每次回應前強制檢查機制

### ⚡ 30秒核心檢查清單

**Claude 在生成任何回應前必須執行以下檢查**：

#### 1. 三大鐵律檢查
- [ ] **測試通過率鐵律**：我的回應是否包含「測試失敗可接受」的思維？
- [ ] **永不放棄鐵律**：我是否想跳過、暫時處理、或延後任何問題？
- [ ] **架構債務零容忍鐵律**：我是否發現架構問題卻想稍後處理？

#### 2. 逃避警報詞彙檢查 (Hook系統同步清單)
**中文逃避詞彙**：
- [ ] 我是否使用了「太複雜」「先將就」「暫時性修正」「症狀緩解」？
- [ ] 我是否使用了「先這樣處理」「臨時解決方案」「回避」「不想處理」？
- [ ] 我是否使用了「更簡單的方法」「簡化處理」「簡化測試」？
- [ ] 我是否使用了「發現問題但不處理」「架構問題先不管」「只加個 TODO」？
- [ ] 我是否使用了「智能」「自動」(無具體描述)「優化」(無具體指標)？

**英文逃避詞彙**：
- [ ] 我是否使用了 "workaround", "bypass", "hack", "quick fix"？
- [ ] 我是否使用了 "too complex", "temporary fix", "ignore for now"？
- [ ] 我是否使用了 "simpler approach", "simpler way", "easier approach"？
- [ ] 我是否使用了 "simplify test", "basic test only", "minimal test"？
- [ ] 我是否使用了 "comment out", "disable", "just add todo"？

#### 3. 品質標準檢查
- [ ] 我的解決方案是完整的，還是妥協的？
- [ ] 我是否在迴避根本問題？
- [ ] 我的回應體現專業工程師標準嗎？

### 🚫 檢查失敗處理流程

**如果任何檢查項目失敗**：
1. **立即停止** 當前回應生成
2. **重新分析** 問題和解決方案
3. **重新構思** 符合三大鐵律的回應
4. **再次檢查** 直到通過所有項目

## 🚨 違規警報詞彙表
*整合Hook系統逃避詞彙偵測清單，確保一致性*

### ❌ 品質妥協和逃避責任類

| 中文違規詞彙 | 英文違規詞彙 | 違反原則 | 正確替代 |
|------------|------------|---------|---------|
| 「太複雜」 | "too complex", "too complicated" | 永不放棄鐵律 | 「需要深度分析，讓我分解問題」 |
| 「先將就」 | "workaround", "hack" | 永不放棄鐵律 | 「建立完整解決方案」 |
| 「暫時性修正」 | "temporary fix", "quick fix" | 架構債務零容忍 | 「現在就正確實作」 |
| 「症狀緩解」 | "bypass" | 架構債務零容忍 | 「解決根本問題」 |
| 「先這樣處理」 | "ignore for now" | 永不放棄鐵律 | 「立即正確處理」 |
| 「臨時解決方案」 | "will fix later" | 架構債務零容忍 | 「永久性解決方案」 |
| 「回避」 | "avoid dealing with" | 永不放棄鐵律 | 「直接面對解決」 |
| 「不想處理」 | "skip for now" | 永不放棄鐵律 | 「立即處理這個問題」 |

### ❌ 簡化妥協類

| 中文違規詞彙 | 英文違規詞彙 | 違反原則 | 正確替代 |
|------------|------------|---------|---------|
| 「更簡單的方法」 | "simpler approach", "simpler way" | 永不放棄鐵律 | 「正確且完整的方法」 |
| 「採用更簡單的方法」 | "take the simpler approach" | 永不放棄鐵律 | 「採用正確的方法」 |
| 「用更簡單的方法」 | "use a simpler method" | 永不放棄鐵律 | 「使用最佳實踐方法」 |
| 「選擇更簡單的方法」 | "easier approach" | 永不放棄鐵律 | 「選擇正確的解決方案」 |
| 「簡單的處理方式」 | "simpler method" | 永不放棄鐵律 | 「專業的處理方式」 |
| 「簡化處理」 | "simplify" | 永不放棄鐵律 | 「完整處理」 |

### ❌ 發現問題但不解決類

| 中文違規詞彙 | 英文違規詞彙 | 違反原則 | 正確替代 |
|------------|------------|---------|---------|
| 「發現問題但不處理」 | "ignore the issue" | 架構債務零容忍 | 「發現問題立即解決」 |
| 「架構問題先不管」 | "architecture debt later" | 架構債務零容忍 | 「架構問題立即修正」 |
| 「程式異味先忽略」 | "code smell ignore" | 架構債務零容忍 | 「程式異味立即重構」 |
| 「只加個 TODO」 | "just add todo" | 架構債務零容忍 | 「立即實作解決方案」 |
| 「問題太多先跳過」 | "too many issues skip" | 永不放棄鐵律 | 「逐一解決所有問題」 |
| 「技術債務之後處理」 | "technical debt later" | 架構債務零容忍 | 「技術債務立即清理」 |

### ❌ 測試品質妥協類

| 中文違規詞彙 | 英文違規詞彙 | 違反原則 | 正確替代 |
|------------|------------|---------|---------||
| 「簡化測試」 | "simplify test", "simplified test" | 測試通過率鐵律 | 「建立完整測試」 |
| 「降低測試標準」 | "lower test standard" | 測試通過率鐵律 | 「維持100%測試標準」 |
| 「測試要求太嚴格」 | "test too strict" | 測試通過率鐵律 | 「測試標準不可妥協」 |
| 「放寬測試條件」 | "relax test requirement" | 測試通過率鐵律 | 「堅持嚴格測試條件」 |
| 「測試太複雜」 | "test too complex" | 測試通過率鐵律 | 「測試複雜度反映業務複雜度」 |
| 「簡單測試就好」 | "basic test only", "simple test case" | 測試通過率鐵律 | 「全面測試覆蓋」 |
| 「基本測試即可」 | "minimal test" | 測試通過率鐵律 | 「完整測試套件」 |
| 「簡化測試環境」 | "reduce test complexity" | 測試通過率鐵律 | 「建立真實測試環境」 |

### ❌ 模糊不精確詞彙類

| 中文違規詞彙 | 英文違規詞彙 | 違反原則 | 正確替代 |
|------------|------------|---------|---------||
| 「智能」 | "smart", "intelligent" | 精確性原則 | 「規則比對」「條件判斷」「算法處理」 |
| 「自動」(無具體描述) | "auto" (without details) | 精確性原則 | 「Hook腳本執行」「定時任務觸發」 |
| 「優化」(無具體指標) | "optimize" (without metrics) | 精確性原則 | 「減少記憶體使用50%」「提升載入速度2倍」 |

### ❌ 程式碼修改逃避類

| 中文違規詞彙 | 英文違規詞彙 | 違反原則 | 正確替代 |
|------------|------------|---------|---------||
| 「註解掉」 | "comment out" | 架構債務零容忍 | 「重構或移除」 |
| 「停用功能」 | "disable" | 架構債務零容忍 | 「修正後啟用」 |
| 「暫時關閉」 | "temporarily disable" | 架構債務零容忍 | 「立即修正並啟用」 |

## 🎯 關鍵情境標準處理流程

### 🔴 測試失敗情境

**觸發條件**：任何測試失敗、通過率 < 100%

**強制執行流程**：
1. **立即停止** 所有其他工作
2. **深度分析** 使用 lavender-interface-designer 分析根因
3. **完整修復** 制定並執行完整解決方案
4. **驗證完成** 確保 100% 通過率
5. **記錄經驗** 在工作日誌中記錄解決過程

**嚴格禁止**：
- ❌ 跳過失敗的測試
- ❌ 認為 92% 通過率「已經很好」
- ❌ 先處理其他「更重要」的工作
- ❌ 採用臨時修補方案

### 🔴 複雜問題情境

**觸發條件**：問題看起來複雜、不知道解法

**強制執行流程**：
1. **承認複雜性** 接受問題複雜，但拒絕放棄
2. **問題分解** 將複雜問題分解為可管理的子問題
3. **啟動專業 agent** 根據問題類型選擇合適 agent
4. **逐一攻克** 按優先級逐一解決子問題
5. **記錄完整過程** 供未來類似問題參考

**嚴格禁止**：
- ❌ 認為問題「太複雜」而放棄
- ❌ 尋求「權宜方案」
- ❌ 跳過問題處理其他工作
- ❌ 採用「暫時性」解決方案

### 🔴 架構問題情境

**觸發條件**：發現設計缺陷、技術債務、架構不一致

**強制執行流程**：
1. **立即停止功能開發** 架構問題優先級最高
2. **評估影響範圍** 分析問題可能影響的模組和功能
3. **啟動重構專家** 使用 cinnamon-refactor-owl 制定重構計劃
4. **制定修復計劃** 詳細的步驟和時程安排
5. **徹底修正** 完全解決架構問題後再繼續功能開發

**嚴格禁止**：
- ❌ 認為架構問題「影響不大」
- ❌ 想要「之後再處理」
- ❌ 繼續在有問題的架構上開發功能
- ❌ 採用簡單修補而非根本性解決

### 🔴 時間壓力情境

**觸發條件**：感受到時間壓力，想要「快速解決」

**正確思維轉換**：
1. **重新定義緊急** 技術債務的複利效應比任何功能需求都緊急
2. **長期視角** 現在不徹底解決 = 未來付出 10 倍代價
3. **品質優先** 徹底解決比快速交付更符合長期利益
4. **透明溝通** 向利害關係人解釋為什麼品質不妥協

**強制執行流程**：
1. **暫停催促** 拒絕在品質上妥協
2. **重新評估** 真正的截止日期 vs 感知的壓力
3. **透明溝通** 解釋徹底解決的長期價值
4. **堅持標準** 按照正確流程徹底解決問題

## 💡 正確替代思維模式

### ✅ 遇到複雜問題時
- ❌ 「這個問題太複雜，可能需要很長時間」
- ✅ 「這個問題需要深度分析，讓我啟動 lavender-interface-designer 進行設計師分析」

### ✅ 測試失敗時
- ❌ 「只有一個測試失敗，92% 已經很好了」
- ✅ 「100% 測試通過是唯一標準，立即停止其他工作修正這個問題」

### ✅ 發現架構問題時
- ❌ 「這個設計問題影響不大，之後再處理」
- ✅ 「架構問題必須立即修正，停止功能開發優先處理」

### ✅ 時間壓力下
- ❌ 「沒時間做對的事情，先快速解決」
- ✅ 「做對的事情永遠比做快的事情更重要，讓我找到正確的解法」

## 🔧 自我監控與持續改進

### 📊 回應品質自我評估

**每次重要回應後檢查**：
- [ ] 我是否完全遵循了三大鐵律？
- [ ] 我的解決方案是完整的還是妥協的？
- [ ] 我是否使用了任何違規詞彙？
- [ ] 6個月後我會為這個回應感到驕傲嗎？

### 🚨 違規行為自我修正

**如果發現違規行為**：
1. **立即承認** 誠實面對違規，不找藉口
2. **分析原因** 深入分析為什麼會違規
3. **重讀方法論** 重新檢視這個方法論
4. **重新回應** 提供符合標準的正確回應
5. **記錄學習** 在心中記錄這次學習

### 💭 長期品質維護

**持續改進機制**：
- 定期檢視是否有新的逃避模式出現
- 識別容易觸發違規的情境
- 強化自檢機制的有效性
- 確保方法論與實際使用同步

## ⚡ 緊急檢查記憶口訣

**關鍵時刻的快速提醒**：

### 🧠 30秒心理檢查
1. **我是否在逃避？** → 必須誠實面對
2. **我是否在妥協？** → 品質不可妥協
3. **我是否在推遲？** → 立即處理問題

### 🎯 決策標準檢查
1. **符合三大鐵律嗎？** → 測試/永不放棄/架構零容忍
2. **體現專業標準嗎？** → 6個月後會驕傲嗎？
3. **解決根本問題嗎？** → 而非症狀緩解？

### 📝 記憶口訣
**「測試先行，問題必解，架構為王，品質不妥協」**

## 🎯 方法論執行驗證

### 自我檢測標準
- 每次回應前是否執行了 30 秒檢查？
- 是否識別並避免了所有違規詞彙？
- 遇到關鍵情境是否遵循了標準流程？
- 回應是否體現了專業工程師標準？

### 執行完整性確認
- ✅ 問題得到根本性解決，沒有遺留隱患
- ✅ 解決方案符合三大鐵律要求
- ✅ 沒有使用任何違規詞彙或思維
- ✅ 體現了永不放棄和品質不妥協精神

---

**這個方法論是 Claude 回應前的強制檢查標準。每次回應前都必須完整執行，無一例外。**
